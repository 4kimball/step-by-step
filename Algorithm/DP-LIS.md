# 동적계획법 - LIS



### LIS

LIS(Longest Increasing Subsequence)는 최장 증가 부분 수열을 의미한다.

1, 5, 2, 4, 7, 3, 9라는 수열이 있을 때 LIS는 `1`, 5, `2`, `4`, `7`, 3, `9`가 된다. 이처럼 어떤 수에서 시작하여 끝까지 봤을 때 최대 길이로 증가하는 부분 수열을 구하는 것이다.



### :bulb:동적계획법으로 접근하기

- LIS를 동적계획법으로 접근하여 구해보자.
- 기본 개념은 다음과 같다.
  - N개의 수가 있는 수열이 있을 때 앞에서부터 끊어서 작은문제로 나눈다. 위의 예시에서 보면 [1], [1,5], [1,5,2] 처럼 부분 수열을 생성하는 것이다.
  - 그렇다면 각 부분 수열에서 가장 끝에 있는 수와 이전의 수를 비교한다. 
  - 그리고 부분 수열에서 LIS를 기록해두고 이를 계속 활용한다.
- 코드로 확인을 하면 다음과 같다.

```python
numbers = [1, 5, 2, 4, 7, 3, 9]  # 7개의 수가 포함된 수열
cache = [1]  # 메모제이션을 위한 리스트, 부분수열 1의 LIS는 1이다.

for i in range(1, 7):
    cache.append(1)  # 끝에 있는 수가 numbers[i]일 때 초기 LIS는 1(자기자신)
    for j in range(i):  # 첫 번째 수부터 i이전까지 탐색
        if numbers[j] < numbers[i]:  # i가 크다는 것은 LIS가 [j, i]가 되는 것
            # 따라서 j에 +1(i번째 수)와 원래 LIS를 비교하여 최댓값을 갱신한다.
            cache[i] = max(cache[j] + 1, cache[i])

print(cache) 
# [1, 2, 2, 3, 4, 3, 5]
# 작은 문제로 나눴을 때 각각의 LIS를 의미하며 
# 해당 리스트에서 전체 LIS를 구한다.
```

- 동적계획법 이외에도 좀 더 시간을 절약도록 **이진탐색**으로의 풀이도 가능하다.