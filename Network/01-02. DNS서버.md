# 01-02. 웹 서버의 IP주소를 DNS서버에 조회한다.

> - `성공과 실패를 결정하는 1%의 네트워크 원리`를 참고하였다.



### IP 주소

- HTTP 메시지를 웹 서버에 송신하기위해서 **브라우저는 OS에 송신을 의뢰**한다. 하지만 송신을 할 때는 웹 서버의 도메인명을 사용하는 것이 아니라 IP 주소를 사용한다. 따라서 **도메인명을 통해 IP 주소를 파악**할 필요가 있다.

- 인터넷은 TCP/IP의 개념에 기초하여 만들어졌으며 허브로 연결된 여러 대의 컴퓨터가 서브넷을 구성하고 서브넷을 라우터로 연결하여 인터넷이 만들어진다.
- 이때 컴퓨터의 IP 주소는 **네트워크 번호**와 **호스트 번호**로 구성되어 있다.
  - 네트워크 번호는 서브넷의 주소, 호스트 번호는 서브넷 안에 포함되어있는 컴퓨터를 의미한다.
- IP 주소는 4개의 8bit가 점으로 구분되어 총 32bit로 표현하게된다.
- 하지만 32bit로 표현된 IP 주소에서 네트워크 번호와 호스트 번호을 할 수가 없다. 따라서 **넷마스크**를 활용한다.
  - 넷마스크는 네트워크 번호와 호스트 번호를 나누는 기준이 되며 역시 32bit로 나타낸다. 넷마스크를 2bit로 나타내면 왼쪽부터 1이 나타나다가 0이 나타나는 시점이 있다. 
  - 이때 **1에 해당하는 부분**이 **네트워크 번호가 되고**, **0에 해당하는 부분**이 **호스트 번호**가 된다.



### 도메인명과 IP 주소를 구분하는 이유

- 도메인명 그대로 송신할 때 사용하면 IP 주소를 찾아야할 필요가 없는데 왜 IP 주소를 사용할까?
- 데이터를 운반할 때 IP 주소는 32bit(4byte)에 해당하는 크기를 갖지만 도메인명을 사용하면 최대 255byte까지의 문자를 사용해야하기 때문에 **부하가 걸려 네트워크 속도가 느려진다.**



### Socket 라이브러리 중 하나인 DNS 리졸버

- DNS 서버에서 IP 주소를 알기위해서는 가까운 DNS 서버에 요청을 하는 것이다.
- 이러한 요청은 Socket 라이브러리에 들어있는 부품화된 프로그램인 **DNS 리졸버**를 호출하면서 이루어진다.
- DNS 리졸버는 DNS 서버에 IP주소를 요청하고 응답받은 메시지에서 IP 주소를 추출하여 지정된 메모리 영역에 저장한다.