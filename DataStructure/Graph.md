# Graph

> 트리는 싸이클이 없는 그래프라 할 수 있다.



### :bulb: 개념

- 그래프는 객체의 일부 쌍들이 연관되어있는 객체 집합 구조이다.
  - 지하철 노선도, 친구와의 관계 등
- 그래프 이론은 오일러가 `쾨니히스베르크의 다리 문제`를 풀기위해 사용되었다.
  - 모든 다리를 한 번씩 건너서 처음 출발했던 장소로 돌아올 수 있는지 알아보는 문제이다.
  - 이 문제에서는 **정점 별로 연결된 간선의 수가 짝수일 때 가능**하다는 것을 확인하였다. 
- 그래프는 어떠한 **객체를 정점**으로 객체들의 **연결관계를 간선**으로 표현한다.



### 그래프의 표현

> 그래프는 **인접 행렬**과 **인접 리스트**로 표현할 수 있다.

- 인접 행렬

  - 2차원 리스트로 정점 간의 관계를 표현하고 특정 정점들의 연결관계를 `O(1)`로 알 수 있다. 하지만 정점 V의 V^2만큼의 공간이 필요하다.

  - ```c
    /*
    1 - 2
    |
    3
    */
    [
        [0, 1, 1],
        [1, 0, 0],
        [1, 0, 0],
    ]
    
    ```

    

- 인접 리스트

  - 연결 리스트로 그래프를 표현하고 특정 정점들의 연결관계를 탐색하기위해 노드의 리스트를 모두 확인해봐야하기 때문에 인접행렬보다 시간이 더 걸린다. 하지만 간선의 개수 `E`와 정점의 개수 `V` (`E`+`V`)를 합친 것만큼의 공간을 차지하는 장점이 있다.

  - ```c
    graph[1].push_back(2);
    graph[2].push_back(1);
    
    graph[1].push_back(3);
    graph[3].push_back(1);
    // graph[1] => [2, 3];
    ```



- **그래프의 집합 표현**

  - V(G) : 그래프 G의 정점 집합

    -  V(G) : {A, B, C}

  - E(G) : 그래프 G의 간선 집합

    - 무방향 : E(G) : { (A, B), (A, C), (B, C)}
    - 방향 : E(G) : { <A, B>, <B, C> , <C, A>} 

    

### 그래프의 종류

- **무방향 그래프**
  - 두 개의 정점을 연결할 때 간선에 방향성이 없는 그래프다.
- **방향 그래프**
  - 두 개의 정점을 방향성이 존재하는 간선으로 연결하는 그래프다.
  - 무방향 그래프는 두 개의 정점을 오고가고 할 수 있지만, 방향 그래프는 방향에 따라 다른 정점으로 가고 다시 돌아오지 못할 수도 있다.
- **완전 그래프**
  - 각각의 정점들이 다른 모든 정점을 연결한 그래프다.
- **가중치 그래프**
  - 두 정점을 연결할 때 간선에 가중치를 두는 그래프다.
  - 두 정점 사이의 거리 또는 걸리는 시간 등을 표현할 수 있다.



### 그래프의 탐색

- **깊이 우선 탐색** 
  - 이름에서도 알 수 있듯이, 한 정점을 시작으로 연결되어있는 한 정점으로만 계속 이동하는 것이다. 계속해서 연결된 하나의 정점으로 이동하다가 연결된 정점이 없을 때 이전 정점으로 이동하여 다시 탐색을 진행한다.
  - 깊이 우선 탐색을 구현하기위해서 **스택**이나 **재귀함수**를 활용할 수 있다.
- **너비 우선 탐색**
  - 한 정점과 연결된 정점들을 먼저 방문하는 것이다. 트리에서 볼 때 레벨의 순서에 따라 탐색하는 것이다. 너비 우선 탐색은 **큐**로 구현되며 어떠한 정점을 기준으로 가까운 정점을 먼저 방문하기 때문에 **최단 경로를 구할 수 있다.**



### 최소 신장 트리

- V개의 정점이 있는 그래프는 여러 개의 부분 그래프가 존재할 수 있다. 이러한 부분 그래프를 **신장 트리**라고 하는데, 신장 트리가되기 위해서는 다음과 같은 조건이 필요하다.
  - V개의 정점을 **V-1개의 간선으로 연결**하고 모든 정점을 한 번씩 방문한다. 
  - 또한 V-1개의 간선으로 연결할 때 **싸이클이 없는 구조**를 가져야한다.
- 가중치를 갖는 간선으로 표현한 가중치 그래프의 신장 트리 중 간선 들의 합이 최소가 되는 것을 **최소 신장 트리**라고 한다.
  - 최소 신장 트리를 구하는 알고리즘에는 `프림`과 `크루스칼` 알고리즘이 존재한다.