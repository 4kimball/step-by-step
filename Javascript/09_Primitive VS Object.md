# Primitive VS Object

> 자바스크립트의 데이터 타입은 크게 원시 타입과 객체 타입으로 나눌 수 있다. 원시 타입과 객체 타입의 의미와 차이점을 알아본다.



### Primitive Type

- `immutable` - **원시 타입은 값의 변경이 불가능하다.**

  - 변수는 값을 저장할 메모리를 식별하기 위한 이름이다.
  - 변수에 값을 대입하면 변수가 확보한 메모리에 값이 저장된다.
  - 이때 기존에 변수에 저장된 값을 변경하면 다른 메모리를 확보하고 해당 메모리에 변경할 값을 저장한다.
  - 즉 변수에 값을 재할당할 때 새로운 메모리 공간을 확보하고 재할당할 값을 저장한다. 
    - 기존에 저장되어 있던 값은 그대로 특정 메모리에 남아있게 된다.
  - 만약 값을 변경할 수 있다면 예기치 못한 상황에서 값이 변경되어 **상태 변경에 대한 추적을 어렵게 한다.**

- **원시 타입은 값의 변경이 불가능하기 때문에 문자열에서 특정 문자를 변경할 수 없다.**

  - Python을 공부할 때 "왜 문자열에서 특정 문자열을 변경하고 조작할 수 없는지 이해하지 못했다."
  - 문자열 자체가 메모리 공간에 저장되기 때문에 문자열 내의 문자를 변경하는 것은 불가능하다.
  - 하지만 유사배열이기 때문에 특정 문자에 접근할 수 있다.

- **원시 타입은 메모리에 실제 값이 저장된다.**

  - 메모리를 확보한 변수에는 실제 값이 저장된다.

  - 따라서 해당 변수를 다른 변수에 할당할 때는 **값을 전달한다.**

  - 아래의 코드에서 10이 할당된 `a`를 `b`에 할당 후에 `a`를 20으로 변경하면 `a`만 변경되고 `b`는 그대로 10이 남게된다. 이것은 메모리에 저장된 값을 전달했기 때문이다.

  - ```javascript
    let a = 10;
    let b = a;
    a = 20;
    console.log(a, b) // 20, 10
    ```

    

### Object

- `mutable` - **객체 타입은 변경이 가능하다.**
  - 객체를 담고있는 변수는 값이 아닌 객체가 생성된 메모리의 주소를 가리킨다.
  - 따라서 객체를 할당한 변수는 재할당 없이 직접 변경할 수 있다.
- 객체 타입은 왜 mutable일까?
  - 객체는 0개 이상의 프로퍼티와 메서드를 갖는다. 이는 객체의 크기가 일정하지 않다는 것을 의미한다.
  - 객체가 immutable하다면 재할당할 때 기존의 값을 복사하고 다시 생성하는데 비용이 발생하기 때문에 메모리를 효율적으로 사용하기위해 mutable하다.
- **객체는 참조에 의한 복사**
  - 기존의 객체를 다른 변수에 저장한다면 값이 아닌 메모리의 주소를 저장하게된다.
  - 즉, 두 개의 변수가 하나의 객체를 공유하고있게 된다. 따라서 한 개의 변수에 저장된 프로퍼티를 변경하면 참조하고 있는 모든 변수에도 영향을 미치게된다.



### 정리

- immutable(원시) VS mutable(객체)
- 값에 의한 호출(원시) VS 참조에 의한 호출(객체)